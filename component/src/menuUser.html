<div class="panel-heading text-center">
    <i class="user green circle icon"></i> User Online <span class="ui green circular label">{count}</span>
</div>
<ul class="chat" id="nameList"></ul>

<script>
    var socket = io();
    export default {
        oncreate: function () {
            let self = this;
            var nameFrom = document.getElementById('nameForm'),
                btnRes = document.getElementById('btnRes'),
                nameList = document.getElementById('nameList'),
                handle = document.getElementById('handle');

            socket.on('username', function(data){
                if(data && data.length > 0) {
                    handle.value = data[data.length - 1].name;
                    self.set({count: data.length})
                    self.renderList(data);
                }
                else
                    console.log('miss data');
            });
        },
        ondestroy: function () {

        },
        data: function () {
            return {
                count: 0
            };
        },
        methods: {
            renderList: function(data) {
                nameList.innerHTML = '';
                data.forEach(item => {
                    nameList.innerHTML += `<li>
                        <small>` + item.id + `</small>
                        <p>
                            <i class="user circle icon" style="color: `+ item.color +`" ></i> 
                            `+ item.name +`
                        </p> 
                    </li>`;
                });
            }
        }
    };
</script>